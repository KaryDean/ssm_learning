package com.kearmy;import com.kearmy.dao.IUserDao;import com.kearmy.domain.User;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import org.junit.After;import org.junit.Before;import org.junit.Test;import java.io.IOException;import java.io.InputStream;import java.util.List;public class TestSecondLevelCache {    /**     * 测试查询所有用户     */    @Test    public void testSecondLevelCache() throws IOException {        InputStream is = Resources.getResourceAsStream("SqlMapConfig.xml");        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);        SqlSession sqlSession1 = sqlSessionFactory.openSession();        IUserDao iUserDao1 = sqlSession1.getMapper(IUserDao.class);        User user1 = iUserDao1.findOne(43);        System.out.println("user1内存地址"+System.identityHashCode(user1));        sqlSession1.close();        SqlSession sqlSession2 = sqlSessionFactory.openSession();        IUserDao iUserDao2 = sqlSession2.getMapper(IUserDao.class);        User user2 = iUserDao2.findOne(43);        System.out.println("user2内存地址"+System.identityHashCode(user2));        sqlSession1.close();        System.out.println(user1==user2);        is.close();    }}