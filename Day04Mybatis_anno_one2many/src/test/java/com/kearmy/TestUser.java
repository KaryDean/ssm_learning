package com.kearmy;import com.kearmy.dao.IUserDao;import com.kearmy.domain.User;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import org.junit.After;import org.junit.Before;import org.junit.Test;import java.io.IOException;import java.io.InputStream;import java.util.Date;import java.util.List;public class TestUser {    private InputStream is;    private SqlSession sqlSession;    private IUserDao iUserDao;    @Before    public void init() throws IOException {        is = Resources.getResourceAsStream("SqlMapConfig.xml");        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);        sqlSession = sqlSessionFactory.openSession();        iUserDao = sqlSession.getMapper(IUserDao.class);    }    @After    public void destory() throws IOException {        sqlSession.commit();        sqlSession.close();        is.close();    }    /**     * 测试查询所有用户     */    @Test    public void testFindAll(){        List<User> userList = iUserDao.findAll();        for(User user : userList){            System.out.println(user);        }    }    /**     * 测试插入新用户     */    @Test    public void testInsertUser(){        User user = new User();        user.setUsername("唐静昕");        user.setAddress("合肥市蜀山区");        user.setSex("女");        user.setBirthday(new Date());        iUserDao.insertUser(user);    }    /**     * 测试更新用户     */    @Test    public void testUpdateUser(){        User user = new User();        user.setId(51);        user.setUsername("唐静昕");        user.setAddress("合肥市政务区");        user.setSex("女");        user.setBirthday(new Date());        iUserDao.updateUser(user);    }}